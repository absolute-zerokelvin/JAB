<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jainism Study Guide: Panch Parameshthi</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./css/main.css">

<style>
        body {
            font-family: 'Inter', sans-serif;
            scroll-behavior: smooth;
        }
        
        /* Flashcard styles */
        .flashcard-container { perspective: 1000px; }
        .flashcard {
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.6s;
        }
        .flashcard.is-flipped {
            transform: rotateY(180deg);
        }
        .flashcard-face, .flashcard-back {
            position: absolute;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 1rem;
            text-align: center;
            backface-visibility: hidden;
            -webkit-backface-visibility: hidden;
        }
        .flashcard-back {
            transform: rotateY(180deg);
        }

        /* Accordion & QA Answer styles */
        .accordion-content, .qa-answer {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-in-out;
        }

        /* Quiz Button Styles */
        .quiz-format-btn {
            padding: 0.5rem 1.5rem;
            font-weight: 600;
            border-radius: 0.5rem;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            transition: all 0.3s ease-in-out;
            border-width: 2px;
        }
        .active-quiz-btn {
            background-color: #2563eb; /* blue-600 */
            color: white;
            border-color: transparent;
        }
        .inactive-quiz-btn {
            background-color: white;
            color: #1d4ed8; /* blue-700 */
            border-color: #2563eb; /* blue-600 */
        }
    </style>
</head>
<body class="bg-blue-50 text-gray-800">
    <!-- Added Navigation Overlay for Mobile -->
    <div class="nav-overlay" id="navOverlay" onclick="toggleMobileNav()"></div>
    
    <!-- Added Mobile Navigation Toggle -->
    <button class="mobile-nav-toggle" onclick="toggleMobileNav()">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M3 12H21M3 6H21M3 18H21" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
    </button>
    
    <!-- Added Desktop Navigation -->
    <div id="desktop-nav-container"></div>
    
    <!-- Added Mobile Navigation -->
    <div id="mobile-nav-container"></div>

    <div class="main-content">
        
        <!-- Header -->
        <header class="text-center mb-8">
            <h1 class="text-3xl md:text-5xl font-bold text-blue-900">B.2 Panch Parameshthi</h1>
            <p class="text-lg md:text-xl text-blue-700 mt-2">An Interactive Study Guide for the Panch Parameshthi B.2 section</p>
        </header>

        <!-- Tabs Navigation -->
        <div class="mb-8 sticky top-2 z-10">
            <ul id="tabs" class="flex flex-wrap justify-center items-center gap-x-2 p-2 bg-white rounded-2xl shadow-md h-16 border border-blue-200">
                <li><a href="#" class="tab-link active" data-tab="overview">Overview</a></li>
                <li><a href="#" class="tab-link" data-tab="mantra">Namaskär Mantra</a></li>
                <li><a href="#" class="tab-link" data-tab="arihant">Arihant</a></li>
                <li><a href="#" class="tab-link" data-tab="siddha">Siddha</a></li>
                <li><a href="#" class="tab-link" data-tab="acharya">Āchārya</a></li>
                <li><a href="#" class="tab-link" data-tab="upadhyay">Upādhyāy</a></li>
                <li><a href="#" class="tab-link" data-tab="sadhu">Sādhu/Sādhvi</a></li>
                <li><a href="#" class="tab-link" data-tab="quiz">Quiz</a></li>
            </ul>
        </div>

        <!-- Tab Content -->
        <div id="tab-content" class="bg-white p-4 md:p-6 rounded-2xl shadow-lg border border-blue-200 min-h-[500px]">
            
            <!-- Overview Tab -->
            <div id="overview" class="tab-pane active">
                <h2 class="text-2xl font-bold text-blue-800 mb-4">Welcome!</h2>
                <p class="mb-6 text-gray-700">This guide is designed to help you explore the profound concept of the Panch Parameshthi (the five supreme beings) in Jainism. Start by exploring the mind map below to see how they are all connected. Click on any tab to dive deeper into each concept.</p>
                <div id="mindmap-js" class="p-4 rounded-xl border border-blue-200 bg-blue-50">
                    <h3 class="text-xl font-bold text-blue-900 mb-4 text-center">Interactive Mind Map: The Panch Parameshthi</h3>
                    <div class="text-center">
                        <div id="mindmap-js-root" class="inline-block p-4 rounded-lg bg-blue-900 text-white font-bold text-lg cursor-pointer shadow-lg mb-4 hover:bg-blue-800 transition-colors">Panch Parameshthi <span id="mindmap-toggle-icon" class="ml-2">[-]</span></div>
                        <div id="mindmap-js-children" class="flex flex-wrap justify-center gap-3 md:gap-4">
                            <div class="mindmap-js-node" data-tab="arihant">Arihant</div>
                            <div class="mindmap-js-node" data-tab="siddha">Siddha</div>
                            <div class="mindmap-js-node" data-tab="acharya">Āchārya</div>
                            <div class="mindmap-js-node" data-tab="upadhyay">Upādhyāy</div>
                            <div class="mindmap-js-node" data-tab="sadhu">Sādhu/Sādhvi</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Namaskar Mantra Tab -->
            <div id="mantra" class="tab-pane hidden">
                <h2 class="text-2xl font-bold text-blue-800 mb-4">Namaskär Mantra: The Great Prayer</h2>
                <p class="mb-6 text-gray-700">This is the most revered prayer in Jainism. It's not a request, but a gesture of deep respect to the virtues of the five supreme beings. Click a card to flip it!</p>
                <h3 class="text-xl font-bold text-blue-900 mb-4 text-center">Interactive Mantra Flashcards</h3>
                <div id="flashcard-section" class="grid md:grid-cols-2 lg:grid-cols-3 gap-6"></div>
                <div class="grid md:grid-cols-2 gap-8 mt-8">
                    <div class="bg-blue-50 p-6 rounded-xl border border-blue-100">
                        <h3 class="text-xl font-bold text-blue-900 mb-4 text-center">The Power of the Mantra</h3>
                        <ul class="space-y-3 text-gray-700">
                            <li class="flex items-start"><span class="text-blue-600 mr-3">➜</span><div><strong>Eradicates Sins</strong></div></li>
                            <li class="flex items-start"><span class="text-blue-600 mr-3">➜</span><div><strong>Most Auspicious</strong></div></li>
                            <li class="flex items-start"><span class="text-blue-600 mr-3">➜</span><div><strong>Positive Vibrations</strong></div></li>
                        </ul>
                    </div>
                    <div class="bg-blue-50 p-6 rounded-xl border border-blue-100">
                        <h3 class="text-xl font-bold text-blue-900 mb-4 text-center">The 108 Attributes</h3>
                        <p class="text-center text-gray-700 mb-4">A Jain rosary has 108 beads, signifying the attributes of the Panch Parameshthi.</p>
                        <table class="w-full text-left">
                            <thead class="bg-blue-200 text-blue-800"><tr><th class="p-2 rounded-tl-lg">Parameshthi</th><th class="p-2 rounded-tr-lg">Attributes</th></tr></thead>
                            <tbody>
                                <tr class="border-b border-blue-100"><td class="p-2 font-semibold">Arihant</td><td class="p-2">12</td></tr>
                                <tr class="border-b border-blue-100"><td class="p-2 font-semibold">Siddha</td><td class="p-2">8</td></tr>
                                <tr class="border-b border-blue-100"><td class="p-2 font-semibold">Āchārya</td><td class="p-2">36</td></tr>
                                <tr class="border-b border-blue-100"><td class="p-2 font-semibold">Upādhyāy</td><td class="p-2">25</td></tr>
                                <tr><td class="p-2 font-semibold">Sādhu/Sādhvi</td><td class="p-2">27</td></tr>
                            </tbody>
                            <tfoot class="bg-blue-200 text-blue-900 font-bold"><tr><td class="p-2 rounded-bl-lg">Total</td><td class="p-2 rounded-br-lg">108</td></tr></tfoot>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Arihant Tab -->
            <div id="arihant" class="tab-pane hidden">
                <h2 class="text-2xl font-bold text-blue-800 mb-4">Arihant - The Enlightened Beings</h2>
                <p class="mb-6 text-gray-700">An Arihant is a 'destroyer of inner enemies'. By destroying the four defiling (Ghati) karmas, they attain perfect knowledge (Keval-jnān).</p>
                <div class="bg-blue-50 p-6 rounded-xl border border-blue-100 mb-8">
                    <h3 class="text-xl font-bold text-blue-900 mb-4 text-center">Journey to Arihant</h3>
                    <div class="flex flex-col md:flex-row justify-center items-center gap-4 text-center">
                        <div class="p-4 bg-white rounded-lg shadow w-48"><strong>Soul with 8 Karmas</strong></div>
                        <div class="text-3xl text-blue-500 font-light transform md:-rotate-0 rotate-90">→</div>
                        <div class="p-4 bg-white rounded-lg shadow w-48"><strong>Destroys 4 Ghāti Karmas</strong></div>
                        <div class="text-3xl text-blue-500 font-light transform md:-rotate-0 rotate-90">→</div>
                        <div class="p-4 bg-green-100 border border-green-300 rounded-lg shadow w-48"><strong>Attains 4 Infinite Qualities</strong></div>
                        <div class="text-3xl text-blue-500 font-light transform md:-rotate-0 rotate-90">→</div>
                        <div class="p-4 bg-yellow-100 border border-yellow-300 rounded-lg shadow w-48"><strong>Becomes an Arihant</strong></div>
                    </div>
                </div>
                <div id="arihant-accordion"></div>
            </div>

            <!-- Siddha Tab -->
            <div id="siddha" class="tab-pane hidden">
                 <h2 class="text-2xl font-bold text-blue-800 mb-4">Siddha - The Liberated Souls</h2>
                 <p class="mb-6 text-gray-700">Siddhas are pure, liberated souls who have ended the cycle of birth and death forever. They reside in Siddha-kshetra, in a state of eternal bliss.</p>
                 <div class="bg-blue-50 p-6 rounded-xl border border-blue-100 mb-8">
                    <h3 class="text-xl font-bold text-blue-900 mb-4 text-center">The Final Step: From Arihant to Siddha</h3>
                    <div class="flex flex-col md:flex-row justify-center items-center gap-4 text-center">
                        <div class="p-4 bg-yellow-100 border border-yellow-300 rounded-lg shadow w-48"><strong>Arihant</strong><br>(with 4 Aghāti Karmas)</div>
                        <div class="text-3xl text-blue-500 font-light transform md:-rotate-0 rotate-90">→</div>
                        <div class="p-4 bg-white rounded-lg shadow w-48"><strong>Sheds remaining 4 Aghāti Karmas</strong></div>
                        <div class="text-3xl text-blue-500 font-light transform md:-rotate-0 rotate-90">→</div>
                        <div class="p-4 bg-purple-100 border border-purple-300 rounded-lg shadow w-48"><strong>Becomes a Siddha</strong></div>
                    </div>
                </div>
                <div class="bg-white p-6 rounded-xl">
                    <h3 class="text-xl font-bold text-blue-900 mb-4 text-center">The 8 Attributes of a Siddha</h3>
                    <div id="siddha-attributes-grid" class="grid md:grid-cols-2 lg:grid-cols-4 gap-4"></div>
                </div>
            </div>

            <!-- Acharya Tab -->
            <div id="acharya" class="tab-pane hidden">
                <h2 class="text-2xl font-bold text-blue-800 mb-4">Āchārya - The Spiritual Leaders</h2>
                <p class="mb-6 text-gray-700">Āchāryas are the heads of the Jain congregation (Sangh). They guide the entire community on the path of liberation and possess 36 special attributes.</p>
                <div id="acharya-accordion"></div>
            </div>

            <!-- Upadhyay Tab -->
            <div id="upadhyay" class="tab-pane hidden">
                <h2 class="text-2xl font-bold text-blue-800 mb-4">Upādhyāy - The Scholarly Teachers</h2>
                <p class="mb-6 text-gray-700">Upādhyāys are learned ascetics who have mastered the Jain scriptures (Āgams). Their role is to teach these scriptures. They possess 25 attributes.</p>
                <div class="bg-blue-50 p-6 rounded-xl border border-blue-100">
                    <h3 class="text-xl font-bold text-blue-900 mb-4 text-center">The 25 Attributes of an Upādhyāy</h3>
                    <p class="text-center text-gray-700 mb-6">These symbolize mastery of the scriptures.</p>
                    <div class="flex justify-center">
                        <div class="grid grid-cols-2 md:grid-cols-4 gap-4 text-center">
                            <div class="p-4 bg-white rounded-lg shadow"><div class="text-3xl font-bold text-blue-600">11</div><div class="text-sm">Anga Āgam</div></div>
                            <div class="p-4 bg-white rounded-lg shadow"><div class="text-3xl font-bold text-blue-600">12</div><div class="text-sm">Upānga Āgam</div></div>
                            <div class="p-4 bg-white rounded-lg shadow"><div class="text-3xl font-bold text-blue-600">1</div><div class="text-sm">Scripture on Conduct</div></div>
                            <div class="p-4 bg-white rounded-lg shadow"><div class="text-3xl font-bold text-blue-600">1</div><div class="text-sm">Scripture on Rituals</div></div>
                        </div>
                    </div>
                    <p class="text-center text-xs mt-4 text-gray-600">* Digambar tradition: 11 Anga Āgam & 14 Anga-bāhya Āgam.</p>
                </div>
            </div>

            <!-- Sadhu Tab -->
            <div id="sadhu" class="tab-pane hidden">
                <h2 class="text-2xl font-bold text-blue-800 mb-4">Sādhu/Sādhvi - The Ascetics</h2>
                <p class="mb-6 text-gray-700">Sādhus and Sādhvis have renounced worldly life to pursue spiritual upliftment. They strictly follow five great vows and have 27 core attributes.</p>
                <div class="bg-blue-50 p-6 rounded-xl border border-blue-100 mb-8">
                    <h3 class="text-xl font-bold text-blue-900 mb-4 text-center">The Five Great Vows (Mahāvratas)</h3>
                    <div id="sadhu-vows" class="grid md:grid-cols-3 lg:grid-cols-5 gap-4"></div>
                </div>
                <div id="sadhu-accordion"></div>
            </div>

            <!-- Quiz Tab -->
            <div id="quiz" class="tab-pane hidden">
                <h2 class="text-2xl font-bold text-blue-800 mb-2">Test Your Knowledge</h2>
                <p class="mb-6 text-gray-600">Choose a format below to start the quiz.</p>

                <!-- Quiz Format Selector -->
                <div class="flex justify-center gap-4 mb-8">
                    <button id="show-qa-btn" class="quiz-format-btn active-quiz-btn">Q&A List</button>
                    <button id="show-flashcard-btn" class="quiz-format-btn inactive-quiz-btn">Flashcards</button>
                </div>

                <!-- Q&A Format Section -->
                <div id="quiz-qa-section">
                    <h3 class="text-xl font-bold text-blue-900 mb-4">Quiz: Q&A Format</h3>
                    <div id="qa-list" class="space-y-2"></div>
                </div>

                <!-- Flashcard Format Section -->
                <div id="quiz-flashcard-section" class="hidden">
                     <h3 class="text-xl font-bold text-blue-900 mb-4 text-center">Quiz: Flashcard Format</h3>
                     <div class="max-w-xl mx-auto">
                        <div id="quiz-flashcard-container" class="flashcard-container h-64 mb-4">
                            <div id="quiz-flashcard" class="flashcard w-full h-full cursor-pointer">
                                <div id="quiz-card-front" class="flashcard-face bg-blue-500 text-white rounded-lg shadow-lg"></div>
                                <div id="quiz-card-back" class="flashcard-back bg-blue-700 text-white rounded-lg shadow-lg"></div>
                            </div>
                        </div>
                        <div class="flex justify-between items-center">
                            <button id="quiz-prev-btn" class="px-6 py-2 bg-blue-600 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed">Previous</button>
                            <div id="quiz-counter" class="text-gray-700 font-semibold">1 / 30</div>
                            <button id="quiz-next-btn" class="px-6 py-2 bg-blue-600 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 transition-colors">Next</button>
                        </div>
                     </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // --- Data for Content ---
        const quizQuestions = [
            { question: "What are the two components of the word Arihant, and what does each mean?", answer: "1) Ari: enemies, 2) Hant: destroyer." },
            { question: "Which four inner weaknesses must be overcome to become an Arihant?", answer: "Anger, ego, deceit, and greed." },
            { question: "Name the four Ghāti Karmas that are destroyed to attain Keval-jnän.", answer: "Jnänävaraniya, Darshanävaraniya, Mohaniya, and Antaräya karma." },
            { question: "What is the state called that is attained by destroying all four Ghāti Karmas?", answer: "Keval-jnän (Omniscience)." },
            { question: "What are the four infinite qualities, or Anant Chatushtay, that a Kevali attains?", answer: "Anant-jnän, Anant-darshan, Anant-chäritra, and Anant-virya." },
            { question: "What does 'Namo Loe Savva Sähunam' mean?", answer: "I bow to all the Sädhus and Sädhvis of the universe." },
            { question: "What is the main difference in the lives of a Sämänya Kevali and a Tirthankar Kevali after they attain omniscience?", answer: "Sämänya Kevalis meditate until Nirvāna, while Tirthankar Kevalis re-establish the Jain Sangh and preach." },
            { question: "In which language did the 24 Tirthankars of our time period deliver their sermons?", answer: "Ardha-mägadhi Präkrit." },
            { question: "What is the collective name for the 108 attributes of the Panch Parameshthi, often signified by a Jain rosary?", answer: "The 108 attributes (no specific name given, the number is the key)." },
            { question: "How many attributes belong to each of the Panch Parameshthi?", answer: "Arihant: 12, Siddha: 8, Ächārya: 36, Upādhyāy: 25, Sādhu: 27." },
            { question: "What is the divine assembly hall where Tirthankars give sermons called?", answer: "Samavasaran." },
            { question: "What are the eight attributes endowed by heavenly gods upon a Tirthankar called?", answer: "Ashta Pratihärya." },
            { question: "Name two of the eight Pratihärya.", answer: "Any two of: Simhāsan, Bhāmandal, Chāmar, Chhatra, Ashok-vruksh, Pushpa-vrushti, Dev Dundubhi, Divya Dhvani." },
            { question: "Which Aghāti karma determines a soul's lifespan?", answer: "Āyushya karma." },
            { question: "Liberated souls permanently reside in a place at the topmost part of the universe. What is this place called?", answer: "Siddha-kshetra." },
            { question: "What are the eight attributes of a Siddha?", answer: "Anant-jnän, Anant-darshan, Avyäbädha-sukh, Anant-chäritra, Akshay-sthiti, Arupitva, Aguru-laghutva, Anant-virya." },
            { question: "Who is the spiritual head of the Jain congregation in the absence of a Tirthankar?", answer: "Ächārya." },
            { question: "What are the five great vows (Mahävratas) that Sädhus and Sädhvis follow?", answer: "Ahimsä, Satya, Asteya, Brahmacharya, Aparigraha." },
            { question: "What does Iryä Samiti refer to?", answer: "Carefulness in movements to avoid any Himsä." },
            { question: "What do the 25 attributes of an Upādhyāy symbolically represent?", answer: "The 25 Jain scriptures they have mastered (11 Anga, 12 Upānga, etc.)." },
            { question: "What is the initiation ceremony called that a householder must perform before becoming a monk or nun?", answer: "Dikshä." },
            { question: "What do the three Guptis refer to?", answer: "Control over mind (Mana), speech (Vachan), and body (Kāya)." },
            { question: "In the Digambar tradition for monks, what is the practice of plucking their own hair called?", answer: "Kesha-lochan." },
            { question: "Which line of the Namaskär Mantra states that the five-fold obeisance eradicates all sins?", answer: "Eso Pancha Namukkäro, Savva Pävappanäsano." },
            { question: "Which line of the Namaskär Mantra states that it is the foremost amongst all that is auspicious?", answer: "Mangalänam Cha Savvesim, Padhamam Havai Mangalam." },
            { question: "A Tirthankar's sermon is delivered in Ardha-mägadhi, but how is it understood by all beings?", answer: "It is understood well by all in their own languages, including animals." },
            { question: "Name the Aghāti karma that determines one's status or family.", answer: "Gotra Karma." },
            { question: "According to Shvetämbar tradition, what are the three parts of the code of conduct regarding right knowledge (Jnänächär)?", answer: "To study and teach scriptures, to write/publish scriptures, and to care for religious books." },
            { question: "What is the sixth line of the Namokär Mantra?", answer: "Eso Pancha Namukkäro" },
            { question: "According to the Digambar tradition, what are the six essential duties (Ävashyak) of an Ächārya?", answer: "Dev Pujä, Guru-upästi, Swädhyäy, Sanyam, Tap, Dän." }
        ];

        const mantraData = [ { line: "Namo Arihantānam", meaning: "I bow to all Arihants, the enlightened beings." }, { line: "Namo Siddhänam", meaning: "I bow to all Siddhas, the liberated souls." }, { line: "Namo Āyariyänam", meaning: "I bow to all Āchāryas, the spiritual leaders." }, { line: "Namo Uvajjhäyänam", meaning: "I bow to all Upādhyāys, the ascetic teachers." }, { line: "Namo Loe Savva Sähunam", meaning: "I bow to all Sādhus and Sādhvis in the universe." }, { line: "Eso Pancha Namukkäro", meaning: "This five-fold obeisance..." }, { line: "Savva Pävappanäsano", meaning: "...eradicates all sins." }, { line: "Mangalänam Cha Savvesim", meaning: "Amongst all that is auspicious..." }, { line: "Padhamam Havai Mangalam", meaning: "...this is the foremost." } ];
        const siddhaAttributes = [ { name: "Anant-jnän", desc: "Infinite Knowledge" }, { name: "Anant-darshan", desc: "Infinite Perception" }, { name: "Avyäbädha-sukh", desc: "Eternal Happiness" }, { name: "Anant-chäritra", desc: "Perfect Conduct" }, { name: "Akshay-sthiti", desc: "Immortality" }, { name: "Arupitva", desc: "Formlessness" }, { name: "Aguru-laghutva", desc: "Equalness" }, { name: "Anant-virya", desc: "Infinite Energy" } ];
        const sadhuVows = [ { name: "Ahimsā", meaning: "Non-violence" }, { name: "Satya", meaning: "Truthfulness" }, { name: "Asteya", meaning: "Non-stealing" }, { name: "Brahmacharya", meaning: "Celibacy" }, { name: "Aparigraha", meaning: "Non-possessiveness" } ];
        const arihantAccordionData = [ { title: "Ghāti vs. Aghāti Karmas", content: `<p class='mb-4 text-center'>Karmas are divided into two main types. Below are the 4 types of each.</p><div class='mt-6'><h4 class='text-lg font-bold text-red-800 mb-3 text-center'>Ghāti Karmas (Destructive)</h4><p class='text-center text-sm text-gray-600 mb-4'>These 4 karmas directly obscure the soul's true nature. Destroying them leads to enlightenment.</p><div class='grid grid-cols-2 md:grid-cols-4 gap-3'><div class='p-3 bg-red-50 rounded-lg border border-red-200 text-center shadow-sm'><p class='font-semibold text-red-700'>Jnänävaraniya</p><p class='text-xs text-red-600'>(Knowledge-obscuring)</p></div><div class='p-3 bg-red-50 rounded-lg border border-red-200 text-center shadow-sm'><p class='font-semibold text-red-700'>Darshanävaraniya</p><p class='text-xs text-red-600'>(Perception-obscuring)</p></div><div class='p-3 bg-red-50 rounded-lg border border-red-200 text-center shadow-sm'><p class='font-semibold text-red-700'>Mohaniya</p><p class='text-xs text-red-600'>(Deluding)</p></div><div class='p-3 bg-red-50 rounded-lg border border-red-200 text-center shadow-sm'><p class='font-semibold text-red-700'>Antaräya</p><p class='text-xs text-red-600'>(Obstructing)</p></div></div></div><div class='mt-8'><h4 class='text-lg font-bold text-green-800 mb-3 text-center'>Aghāti Karmas (Non-destructive)</h4><p class='text-center text-sm text-gray-600 mb-4'>These 4 karmas relate to the physical body. They are exhausted at the time of final liberation (Nirvāna).</p><div class='grid grid-cols-2 md:grid-cols-4 gap-3'><div class='p-3 bg-green-50 rounded-lg border border-green-200 text-center shadow-sm'><p class='font-semibold text-green-700'>Vedaniya</p><p class='text-xs text-green-600'>(Feeling-pertaining)</p></div><div class='p-3 bg-green-50 rounded-lg border border-green-200 text-center shadow-sm'><p class='font-semibold text-green-700'>Näm</p><p class='text-xs text-green-600'>(Body-determining)</p></div><div class='p-3 bg-green-50 rounded-lg border border-green-200 text-center shadow-sm'><p class='font-semibold text-green-700'>Gotra</p><p class='text-xs text-green-600'>(Status-determining)</p></div><div class='p-3 bg-green-50 rounded-lg border border-green-200 text-center shadow-sm'><p class='font-semibold text-green-700'>Āyushya</p><p class='text-xs text-green-600'>(Lifespan-determining)</p></div></div></div>` }, { title: "Sāmānya Kevali vs. Tirthankar Kevali", content: "<p class='mb-4'>All who attain perfect knowledge are Kevalis, but there are two types:</p><div class='grid md:grid-cols-2 gap-4'><div class='bg-white p-4 rounded-lg shadow'><b>Sāmānya (Ordinary) Kevali:</b> After enlightenment, they spend their lives in meditation until Nirvāna.</div><div class='bg-yellow-50 p-4 rounded-lg border border-yellow-200'><b>Tirthankar Kevali:</b> They have a special 'Tirthankar Nām-karma'. After enlightenment, they re-establish the Jain Sangh (four-fold order) and preach the path to liberation for the benefit of all.</div></div>" }, { title: "The Samavasaran (Divine Assembly Hall)", content: "<p class='mb-4'>A divine, three-layered assembly hall created for a Tirthankar's sermon. It accommodates all beings without any animosity.</p><ul class='space-y-2'><li><b>Uppermost Layer (Jewels):</b> For heavenly beings and human beings.</li><li><b>Middle Layer (Gold):</b> For animals.</li><li><b>Lowest Layer (Silver):</b> Parking for vehicles.</li></ul><p class='mt-4'>A Tirthankar faces east, but divine replicas are created so everyone can see and hear the sermon in their own language.</p>" }, { title: "The 34 Atishay (Unique Attributes)", content: "<p class='mb-4'>Tirthankars have 34 extraordinary attributes that distinguish them. These are grouped by when they manifest: at birth, upon attaining Keval-jnān, and those created by heavenly gods. Both Shvetāmbar and Digambar traditions count 34, but with some differences.</p><p><b>Key examples created by heavenly gods (8 Pratihärya):</b> Simhāsan (divine seat), Bhāmandal (halo), Chhatra (umbrella), Ashok-vruksh (tree), Divya Dhvani (divine music), etc.</p>" } ];
        const acharyaAccordionData = [ { title: "The 36 Attributes (Shvetämbar Tradition)", content: "<div class='grid md:grid-cols-2 lg:grid-cols-3 gap-4 text-sm'> <div class='p-3 bg-white rounded shadow'><b>5</b> Controls over senses</div> <div class='p-3 bg-white rounded shadow'><b>9</b> Guards of celibacy</div> <div class='p-3 bg-white rounded shadow'><b>4</b> Controls over passions</div> <div class='p-3 bg-white rounded shadow'><b>5</b> Great Vows (Mahävrat)</div> <div class='p-3 bg-white rounded shadow'><b>5</b> Codes of Conduct (Ächär)</div> <div class='p-3 bg-white rounded shadow'><b>5</b> Kinds of Carefulness (Samiti)</div> <div class='p-3 bg-white rounded shadow'><b>3</b> Restraints (Gupti)</div></div>" }, { title: "The 36 Attributes (Digambar Tradition)", content: "<div class='grid md:grid-cols-2 lg:grid-cols-3 gap-4 text-sm'> <div class='p-3 bg-white rounded shadow'><b>12</b> Austerities (6 external, 6 internal)</div> <div class='p-3 bg-white rounded shadow'><b>10</b> Supreme Virtues (Dharma)</div> <div class='p-3 bg-white rounded shadow'><b>5</b> Codes of Conduct (Ächär)</div> <div class='p-3 bg-white rounded shadow'><b>6</b> Essential Duties (Ävashyak)</div> <div class='p-3 bg-white rounded shadow'><b>3</b> Restraints (Gupti)</div></div>" } ];
        const sadhuAccordionData = [ { title: "The 27 Attributes of a Sādhu/Sādhvi", content: "<p class='mb-4'>These attributes are a framework for the ascetic life.</p><div class='grid md:grid-cols-2 lg:grid-cols-3 gap-4 text-sm'><div class='p-3 bg-white rounded shadow'><b>5</b> Great Vows</div><div class='p-3 bg-white rounded shadow'><b>6</b> Protections of living beings</div><div class='p-3 bg-white rounded shadow'><b>5</b> Controls over senses</div><div class='p-3 bg-white rounded shadow'><b>1</b> Carefulness (Samiti)</div><div class='p-3 bg-white rounded shadow'><b>3</b> Restraints (Gupti)</div><div class='p-3 bg-white rounded shadow'><b>7</b> Other qualities like Forgiveness, Purity, etc.</div></div><p class='text-xs mt-4'>*Note: The breakdown of the 27 attributes can vary slightly between scriptures and traditions. Digambar tradition adds specific practices like not bathing, plucking hair, etc.</p>" } ];
        
        // --- Helper Functions to build UI ---
        function createFlashcards() { const container = document.getElementById('flashcard-section'); container.innerHTML = ''; mantraData.forEach(item => { container.innerHTML += `<div class="flashcard-container h-40"><div class="flashcard w-full h-full cursor-pointer"><div class="flashcard-face bg-blue-500 text-white rounded-lg shadow-md"><p class="text-xl font-semibold">${item.line}</p></div><div class="flashcard-back bg-blue-700 text-white rounded-lg shadow-md"><p class="text-lg">${item.meaning}</p></div></div></div>`; }); }
        function createSiddhaAttributes() { const container = document.getElementById('siddha-attributes-grid'); container.innerHTML = ''; siddhaAttributes.forEach(attr => { container.innerHTML += `<div class="bg-purple-50 border border-purple-200 p-4 rounded-lg text-center shadow"><p class="font-bold text-purple-800">${attr.name}</p><p class="text-sm text-purple-600">${attr.desc}</p></div>`; }); }
        function createSadhuVows() { const container = document.getElementById('sadhu-vows'); container.innerHTML = ''; sadhuVows.forEach(vow => { container.innerHTML += `<div class="bg-green-100 border border-green-300 p-4 rounded-lg text-center shadow"><p class="font-bold text-green-800">${vow.name}</p><p class="text-sm text-green-600">${vow.meaning}</p></div>`; }); }
        function createAccordion(containerId, data) { const container = document.getElementById(containerId); container.innerHTML = ''; data.forEach((item, index) => { container.innerHTML += `<div class="border-b border-blue-200"><h2><button type="button" class="accordion-button flex items-center justify-between w-full p-5 font-medium text-left text-gray-700 hover:bg-blue-100" data-accordion-target="accordion-body-${containerId}-${index}"><span>${item.title}</span><svg class="w-3 h-3 rotate-0 shrink-0 transition-transform duration-200" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 6"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5 5 1 1 5"/></svg></button></h2><div id="accordion-body-${containerId}-${index}" class="accordion-content"><div class="p-5 border-t-0 border-gray-200 bg-blue-50">${item.content}</div></div></div>`; }); }

        // --- Main Logic on DOMContentLoaded ---
        document.addEventListener('DOMContentLoaded', () => {
            const tabs = document.querySelectorAll('.tab-link');
            const panes = document.querySelectorAll('.tab-pane');

            const activateTab = (tab) => {
                 tabs.forEach(t => { t.classList.remove('active', 'bg-blue-600', 'text-white', 'shadow-md'); t.classList.add('text-blue-700'); });
                panes.forEach(p => p.classList.add('hidden'));

                tab.classList.add('active', 'bg-blue-600', 'text-white', 'shadow-md');
                tab.classList.remove('text-blue-700');
                const paneId = tab.getAttribute('data-tab');
                document.getElementById(paneId).classList.remove('hidden');
            }

            tabs.forEach(tab => {
                tab.addEventListener('click', (e) => { e.preventDefault(); activateTab(tab); });
            });

            // --- Simple Mind Map Setup ---
            function setupSimpleMindMap() {
                const root = document.getElementById('mindmap-js-root');
                const childrenContainer = document.getElementById('mindmap-js-children');
                const toggleIcon = document.getElementById('mindmap-toggle-icon');
                const childNodes = document.querySelectorAll('.mindmap-js-node');
                childNodes.forEach(node => { node.classList.add('p-3', 'md:p-4', 'bg-blue-500', 'text-white', 'rounded-lg', 'cursor-pointer', 'font-semibold', 'hover:bg-blue-600', 'transition-colors', 'shadow-md'); });
                root.addEventListener('click', () => {
                    const isHidden = childrenContainer.classList.toggle('hidden');
                    childrenContainer.classList.toggle('flex');
                    toggleIcon.textContent = isHidden ? '[+]' : '[-]';
                });
                childNodes.forEach(node => { node.addEventListener('click', (e) => { e.stopPropagation(); const tabId = node.dataset.tab; const targetTab = document.querySelector(`.tab-link[data-tab="${tabId}"]`); if (targetTab) activateTab(targetTab); }); });
            }
            
            // --- QUIZ LOGIC ---
            function setupQuiz() {
                const qaListContainer = document.getElementById('qa-list');
                const flashcardSection = document.getElementById('quiz-flashcard-section');
                const qaSection = document.getElementById('quiz-qa-section');
                let currentQuestionIndex = 0;

                function buildQAList() {
                    qaListContainer.innerHTML = '';
                    quizQuestions.forEach((q, index) => {
                        // FIX: Moved padding from qa-answer to the inner p tag
                        qaListContainer.innerHTML += `<div class="qa-item border-b border-blue-200"><button class="qa-question-btn w-full text-left p-4 hover:bg-blue-50 flex justify-between items-center"><span class="font-semibold">${index + 1}. ${q.question}</span><span class="text-blue-500 text-sm font-bold">Show Answer</span></button><div class="qa-answer bg-green-50 border-t border-green-200"><p class="text-green-800 p-4">${q.answer}</p></div></div>`;
                    });
                }

                function updateFlashcard() {
                    const card = document.getElementById('quiz-flashcard');
                    const front = document.getElementById('quiz-card-front');
                    const back = document.getElementById('quiz-card-back');
                    const counter = document.getElementById('quiz-counter');
                    const prevBtn = document.getElementById('quiz-prev-btn');
                    const nextBtn = document.getElementById('quiz-next-btn');
                    
                    card.classList.remove('is-flipped');
                    
                    setTimeout(() => {
                        front.innerHTML = `<p class="text-xl">${quizQuestions[currentQuestionIndex].question}</p>`;
                        back.innerHTML = `<p class="text-lg font-semibold">${quizQuestions[currentQuestionIndex].answer}</p>`;
                        counter.textContent = `${currentQuestionIndex + 1} / ${quizQuestions.length}`;
                    }, 150);

                    prevBtn.disabled = currentQuestionIndex === 0;
                    nextBtn.disabled = currentQuestionIndex === quizQuestions.length - 1;
                }
                
                document.getElementById('show-qa-btn').addEventListener('click', function() {
                    this.classList.replace('inactive-quiz-btn', 'active-quiz-btn');
                    document.getElementById('show-flashcard-btn').classList.replace('active-quiz-btn', 'inactive-quiz-btn');
                    qaSection.classList.remove('hidden');
                    flashcardSection.classList.add('hidden');
                });
                document.getElementById('show-flashcard-btn').addEventListener('click', function() {
                    this.classList.replace('inactive-quiz-btn', 'active-quiz-btn');
                    document.getElementById('show-qa-btn').classList.replace('active-quiz-btn', 'inactive-quiz-btn');
                    qaSection.classList.add('hidden');
                    flashcardSection.classList.remove('hidden');
                    updateFlashcard();
                });

                qaListContainer.addEventListener('click', (e) => {
                    const button = e.target.closest('.qa-question-btn');
                    if (!button) return;
                    const answer = button.nextElementSibling;
                    const text = button.querySelector('span:last-child');
                    if(answer.style.maxHeight && answer.style.maxHeight !== '0px') {
                        answer.style.maxHeight = '0px';
                        text.textContent = 'Show Answer';
                    } else {
                        // Use the scrollHeight of the inner <p> tag
                        answer.style.maxHeight = answer.querySelector('p').scrollHeight + 'px';
                        text.textContent = 'Hide Answer';
                    }
                });

                document.getElementById('quiz-flashcard').addEventListener('click', (e) => e.currentTarget.classList.toggle('is-flipped'));
                document.getElementById('quiz-next-btn').addEventListener('click', () => { if(currentQuestionIndex < quizQuestions.length - 1) { currentQuestionIndex++; updateFlashcard(); } });
                document.getElementById('quiz-prev-btn').addEventListener('click', () => { if(currentQuestionIndex > 0) { currentQuestionIndex--; updateFlashcard(); } });
                
                buildQAList();
            }

            // --- Populate all content and set up listeners ---
            setupSimpleMindMap();
            createFlashcards();
            createSiddhaAttributes();
            createSadhuVows();
            createAccordion('arihant-accordion', arihantAccordionData);
            createAccordion('acharya-accordion', acharyaAccordionData);
            createAccordion('sadhu-accordion', sadhuAccordionData);
            setupQuiz();

            document.getElementById('tab-content').addEventListener('click', function(e) {
                // Main Flashcard flip
                const card = e.target.closest('#flashcard-section .flashcard');
                if (card) { card.classList.toggle('is-flipped'); }
                // Accordion toggle
                const button = e.target.closest('.accordion-button');
                if (button) {
                    const content = document.getElementById(button.getAttribute('data-accordion-target'));
                    const icon = button.querySelector('svg');
                    if (content.style.maxHeight) {
                        content.style.maxHeight = null;
                        icon.classList.remove('rotate-180');
                    } else {
                        content.style.maxHeight = content.scrollHeight + "px";
                        icon.classList.add('rotate-180');
                    }
                }
            });

            tabs.forEach(link => { link.classList.add('px-4', 'py-2', 'md:px-6', 'md:py-3', 'text-sm', 'md:text-base', 'font-semibold', 'text-blue-700', 'rounded-full', 'transition-colors', 'duration-300', 'ease-in-out'); });
            activateTab(document.querySelector('.tab-link.active'));
        });
    </script>
    <!-- Added main navigation script -->
    <script src="./js/main.js"></script>

</body>
</html>
