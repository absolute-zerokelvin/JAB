<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Udayan Mantri and Sons Timeline</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap');

        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6; /* Light gray background */
            color: #374151; /* Dark gray text */
            line-height: 1.6;
        }

        /* --- Tab Styles --- */
        .tabs-container {
            display: flex;
            justify-content: center;
            margin-bottom: 2rem;
            background-color: #ffffff;
            padding: 0.5rem;
            border-radius: 9999px; /* Pill shape */
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            flex-wrap: wrap; /* Allow tabs to wrap on smaller screens */
            gap: 0.5rem; /* Space between buttons */
        }

        .tab-button {
            padding: 0.75rem 1.5rem;
            border-radius: 9999px;
            font-weight: 600;
            color: #4b5563; /* Gray 700 */
            transition: all 0.2s ease-in-out;
            cursor: pointer;
            outline: none; /* Remove default focus outline */
            border: none; /* Remove default button border */
            white-space: nowrap; /* Prevent text wrap inside button */
        }

        .tab-button.active {
            background-color: #047857; /* Emerald 700 */
            color: #ffffff;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .tab-button:hover:not(.active) {
            background-color: #e0e7ff; /* Light indigo on hover */
            color: #047857; /* Darker emerald on hover */
        }

        .tab-content {
            display: none;
            padding: 1.5rem;
            background-color: #ffffff;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .tab-content.active {
            display: block;
        }

        /* --- Story Enhancement Styles --- */
        .highlight {
            background-color: #fef9c3; /* Yellow 100 */
            color: #78350f; /* Amber 900 */
            font-weight: 600;
            padding: 2px 5px;
            border-radius: 4px;
        }

        .story-icon {
            display: inline-block;
            width: 1.2em;
            height: 1.2em;
            vertical-align: -0.25em;
            margin-right: 0.25em;
            fill: currentColor;
        }
        
        .story-section-divider {
            border: 0;
            height: 2px;
            background-image: linear-gradient(to right, rgba(4, 120, 87, 0), rgba(4, 120, 87, 0.75), rgba(4, 120, 87, 0));
            margin: 2.5rem auto;
        }
        
        .story-quote {
            border-left: 5px solid #059669; /* Emerald 600 */
            background-color: #f0fdfa; /* Emerald 50 */
            padding: 1rem 1.5rem;
            margin: 1.5rem 0;
            border-radius: 0 8px 8px 0;
            font-style: italic;
            color: #065f46; /* Emerald 800 */
        }


        /* --- Timeline Specific Styles --- */
        .timeline-container {
            position: relative;
            max-width: 100%;
            margin: 0 auto;
            padding: 20px 0;
        }

        .timeline-container::after {
            content: '';
            position: absolute;
            width: 4px;
            background-color: #059669; /* Emerald 600 */
            top: 0;
            bottom: 0;
            left: 50%;
            margin-left: -2px;
            z-index: 0;
            border-radius: 9999px;
        }

        .timeline-event {
            padding: 20px 30px;
            position: relative;
            background-color: inherit;
            width: 50%;
            margin-bottom: 30px;
            box-sizing: border-box;
            z-index: 1;
        }

        .timeline-event.left {
            left: 0;
            padding-right: 60px;
        }

        .timeline-event.right {
            left: 50%;
            padding-left: 60px;
        }

        .timeline-event::after {
            content: '';
            position: absolute;
            width: 20px;
            height: 20px;
            background-color: #059669; /* Emerald 600 */
            border: 4px solid #047857; /* Emerald 700 */
            top: 20px;
            border-radius: 50%;
            z-index: 1;
        }

        .timeline-event.left::after {
            right: -10px;
            transform: translateX(50%);
        }

        .timeline-event.right::after {
            left: -10px;
            transform: translateX(-50%);
        }

        .timeline-content {
            background-color: #ffffff;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            position: relative;
        }

        .timeline-event.left .timeline-content::before {
            content: '';
            position: absolute;
            top: 25px;
            right: -15px;
            border-width: 15px 0 15px 15px;
            border-style: solid;
            border-color: transparent transparent transparent #ffffff;
        }

        .timeline-event.right .timeline-content::before {
            content: '';
            position: absolute;
            top: 25px;
            left: -15px;
            border-width: 15px 15px 15px 0;
            border-style: solid;
            border-color: transparent #ffffff transparent transparent;
        }

        .timeline-era {
            text-align: center;
            margin: 40px 0;
            position: relative;
            z-index: 2;
        }

        .timeline-era h2 {
            background-color: #047857; /* Emerald 700 */
            color: #ffffff;
            display: inline-block;
            padding: 10px 20px;
            border-radius: 9999px;
            font-weight: 700;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        /* --- Mind Map (v1) Specific Styles --- */
        .mind-map-wrapper {
            overflow-x: auto; /* Enable horizontal scrolling */
            padding-bottom: 1rem; /* Space for scrollbar */
            background-color: #ffffff;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .mind-map-container {
            display: flex;
            flex-direction: column; /* Changed to column for vertical layout */
            align-items: flex-start; /* Align nodes to the left */
            padding: 2rem;
            min-width: fit-content; /* Allow content to dictate width for scrolling */
        }

        .mind-map-node {
            background-color: #ecfdf5; /* Emerald 50 */
            border: 2px solid #059669; /* Emerald 600 */
            border-radius: 8px; /* Slightly less rounded for better nesting */
            padding: 0.5rem 1rem;
            margin: 0.3rem 0; /* Smaller vertical margin */
            font-weight: 500;
            text-align: left; /* Align text to left */
            position: relative;
            box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
            width: fit-content; /* Allow width to adjust to content */
            white-space: nowrap; /* Keep text on one line */
            color: #10b981; /* Emerald 600 text for nodes */
            transition: all 0.2s ease;
        }

        .mind-map-node.main {
            background-color: #047857; /* Emerald 700 */
            color: #ffffff;
            font-size: 1.5rem;
            padding: 1rem 2rem;
            border-radius: 9999px;
            margin-bottom: 1.5rem; /* More space below main node */
            align-self: center; /* Center the main node */
            font-weight: 700;
        }

        /* Indentation for sub-levels */
        .mind-map-sub-branches {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            margin-left: 2rem; /* Indent sub-branches */
            padding-left: 0.5rem; /* Visual padding for border */
            border-left: 2px solid #9ca3af; /* Light gray vertical line */
            margin-top: 0.5rem;
            margin-bottom: 0.5rem;
        }

        .mind-map-sub-branches.hidden {
            display: none;
        }

        /* Toggle node styling for v1 */
        .mind-map-branch-group .mind-map-node.toggle-node {
            background-color: #d1fae5; /* Lighter emerald for main branches */
            font-weight: 600;
            color: #047857; /* Darker emerald for toggle nodes */
            cursor: pointer;
            width: auto; /* Allow width to be natural */
        }

        .mind-map-branch-group .mind-map-node.toggle-node .toggle-icon {
            font-size: 1rem;
            margin-left: 0.5rem;
            color: #047857;
            font-weight: 700;
        }

        /* Specific styling for nested toggle nodes to show hierarchy */
        .mind-map-sub-branches .mind-map-node.toggle-node {
            background-color: #e0f2f7; /* Even lighter blue/green */
            border-color: #2dd4bf; /* Teal */
            color: #0d9488; /* Dark teal */
            font-weight: 600;
        }


        /* --- Mind Map (v2) Specific Styles --- */
        .mind-map-wrapper-v2 {
            overflow-x: auto; /* Enable horizontal scrolling */
            padding-bottom: 1rem; /* Space for scrollbar */
            background-color: #ffffff;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            min-height: 400px; /* Minimum height for scrollable area */
            padding: 1rem; /* Padding inside the wrapper */
        }

        .mind-map-container-v2 {
            display: flex;
            align-items: center; /* Align items vertically in the center */
            min-width: fit-content; /* Allow content to dictate width for scrolling */
            position: relative; /* For positioning lines */
            padding-top: 20px; /* Space for the main node to sit */
            padding-bottom: 20px;
        }

        .mind-map-node-v2 {
            background-color: #ecfdf5; /* Emerald 50 */
            border: 2px solid #059669; /* Emerald 600 */
            border-radius: 12px;
            padding: 0.75rem 1.25rem;
            margin: 0.5rem;
            font-weight: 600;
            text-align: center;
            position: relative;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
            white-space: nowrap; /* Keep text on one line */
            flex-shrink: 0; /* Prevent nodes from shrinking */
        }

        .mind-map-node-v2.main {
            background-color: #047857; /* Emerald 700 */
            color: #ffffff;
            font-size: 1.5rem;
            padding: 1rem 2rem;
            border-radius: 9999px;
            margin-right: 3rem; /* Space before first main branch */
            z-index: 1; /* Ensure main node is above lines */
        }

        .main-branches-container {
            display: flex;
            align-items: flex-start; /* Align branches from the top */
            position: relative;
            flex-grow: 1; /* Allow container to take available space */
            padding-left: 20px; /* Extra padding for initial vertical line */
        }

        /* Line from main node to first main branch group */
        .mind-map-container-v2::before {
            content: '';
            position: absolute;
            top: 50%;
            left: calc(var(--main-node-width, 0px) + 0.5rem); /* Adjust based on actual main node width */
            width: 2.5rem; /* Length of the connecting line */
            height: 2px;
            background-color: #059669;
            transform: translateY(-50%);
            z-index: 0;
            /* This line will be managed by JS to calculate actual width if needed */
        }


        .branch-group {
            display: flex;
            flex-direction: column;
            align-items: flex-start; /* Align items to the left within their column */
            position: relative;
            flex-shrink: 0;
            margin-right: 2rem; /* Space between branch groups */
            padding-top: 1.5rem; /* Space for vertical line from main horizontal line */
        }

        /* Vertical line from main horizontal line to branch-group node */
        .branch-group::before {
            content: '';
            position: absolute;
            top: 0; /* Starts at the top of the padding */
            left: 50%; /* Center the vertical line over the branch-group */
            width: 2px;
            height: 1.5rem; /* Length of the vertical line */
            background-color: #059669;
            transform: translateX(-50%);
            z-index: 0;
        }

        .node-wrapper {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: auto; /* Allow content to dictate width */
            padding-right: 2rem; /* Space for toggle icon */
            position: relative; /* For positioning the toggle icon */
            cursor: pointer;
        }

        .toggle-icon-v2 {
            font-size: 1.2rem;
            font-weight: bold;
            position: absolute;
            right: 0.5rem;
            top: 50%;
            transform: translateY(-50%);
            color: #047857; /* Emerald 700 */
        }

        .sub-branches {
            display: flex;
            flex-direction: column;
            align-items: flex-start; /* Align sub-nodes to the left */
            border-left: 2px solid #059669; /* Vertical line for sub-branches */
            padding-left: 1.5rem;
            margin-left: 0.5rem; /* Indent sub-branches slightly */
            margin-top: 0.5rem; /* Space from parent node */
        }

        .sub-branches.hidden {
            display: none;
        }

        /* --- Quiz Tab Specific Styles --- */
        .quiz-container {
            padding: 1rem;
        }

        .quiz-question {
            background-color: #ecfdf5; /* Light emerald background for questions */
            border: 1px solid #d1fae5; /* Lighter emerald border */
            border-radius: 8px;
            padding: 1rem 1.5rem;
            margin-bottom: 1rem;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }

        .quiz-question p {
            font-size: 1.1rem;
            font-weight: 500;
            color: #059669; /* Dark emerald text */
            margin-bottom: 0.75rem;
        }

        .show-answer-btn {
            background-color: #047857; /* Emerald 700 */
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 9999px;
            border: none;
            cursor: pointer;
            font-size: 0.9rem;
            transition: background-color 0.2s ease;
            margin-top: 0.5rem;
        }

        .show-answer-btn:hover {
            background-color: #059669; /* Emerald 600 */
        }

        .quiz-answer {
            margin-top: 0.75rem;
            padding: 0.75rem 1rem;
            background-color: #d1fae5; /* Even lighter emerald for answer */
            border-left: 4px solid #047857; /* Strong emerald line for answer */
            border-radius: 4px;
            font-weight: 600;
            color: #047857;
            display: none; /* Hidden by default */
        }

        /* Responsive design */
        @media screen and (max-width: 768px) {
            .timeline-container::after {
                left: 20px;
                margin-left: 0;
            }

            .timeline-event {
                width: 100%;
                padding-left: 60px;
                padding-right: 15px;
                left: 0 !important;
            }

            .timeline-event.left::after,
            .timeline-event.right::after {
                left: 10px;
                transform: translateX(0);
            }

            .timeline-event.left .timeline-content::before,
            .timeline-event.right .timeline-content::before {
                left: 45px;
                border-width: 15px 15px 15px 0;
                border-color: transparent #ffffff transparent transparent;
            }

            .tabs-container {
                flex-wrap: wrap;
                padding: 0.25rem;
                gap: 0.5rem;
            }
            .tab-button {
                padding: 0.5rem 1rem;
                font-size: 0.875rem; /* text-sm */
            }

            /* Mind Map (v1) responsiveness for mobile */
            .mind-map-wrapper {
                overflow-x: hidden; /* Disable horizontal scroll on mobile */
                padding: 1rem 0.5rem;
            }
            .mind-map-container {
                align-items: flex-start;
                padding-top: 0;
                padding-bottom: 0;
            }
            .mind-map-node.main {
                margin-bottom: 1rem; /* Space below main node */
                align-self: flex-start; /* Align to the start */
            }
            .mind-map-sub-branches {
                margin-left: 1rem; /* Reduced indent on mobile */
                padding-left: 0.25rem;
            }
            .mind-map-node {
                width: auto; /* Allow nodes to shrink on mobile */
                white-space: normal; /* Allow text to wrap within nodes */
            }

            /* Mind Map (v2) responsiveness for mobile */
            .mind-map-wrapper-v2 {
                overflow-x: hidden; /* Disable horizontal scroll on mobile */
                padding: 1rem 0.5rem;
            }
            .mind-map-container-v2 {
                flex-direction: column; /* Stack vertically */
                align-items: flex-start;
                padding-top: 0;
                padding-bottom: 0;
            }
            .mind-map-node-v2.main {
                margin-right: 0;
                margin-bottom: 1rem; /* Space below main node */
                align-self: center; /* Center the main node */
            }
            .main-branches-container {
                flex-direction: column; /* Stack branches vertically */
                align-items: flex-start;
                width: 100%;
                padding-left: 0; /* Remove padding */
            }
            .mind-map-container-v2::before {
                display: none; /* Hide horizontal line from main node */
            }
            .branch-group {
                width: 100%;
                margin-right: 0;
                padding-top: 0;
                padding-left: 1rem; /* Indent main branches */
                border-left: 2px solid #059669; /* Vertical line from main node */
                margin-bottom: 0.5rem; /* Space between main branches */
            }
            .branch-group::before {
                display: none; /* Hide vertical line within branch-group */
            }
            .sub-branches {
                width: 100%;
                padding-left: 1.5rem;
            }
            .node-wrapper {
                width: calc(100% - 1.5rem); /* Adjust for padding and line */
            }
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">
    <header class="bg-emerald-700 text-white p-6 text-center shadow-lg rounded-b-xl mb-8">
        <h1 class="text-4xl font-bold mb-2">Udayan Mantri and His Sons: A Detailed Timeline</h1>
        <p class="text-emerald-200 text-lg">I.4 JAB Manual 5th edition</p>
    </header>

    <main class="container mx-auto px-4 py-8">
        <div class="tabs-container">
            <button class="tab-button active" onclick="openTab(event, 'original-story')">Original Story</button>
            <button class="tab-button" onclick="openTab(event, 'timeline-tab')">Timeline</button>
            <button class="tab-button" onclick="openTab(event, 'mind-map')">Mind Map (v1)</button>
            <button class="tab-button" onclick="openTab(event, 'mind-map-v2')">Mind Map (v2)</button>
            <button class="tab-button" onclick="openTab(event, 'characters-tab')">Characters</button>
            <button class="tab-button" onclick="openTab(event, 'quiz-tab')">Quiz</button>
        </div>

        <!-- Original Story Tab Content -->
        <div id="original-story" class="tab-content active text-justify">
            <h2 class="text-3xl font-bold text-center text-emerald-700 mb-6">Original Story: Udayan Mantri and His Sons</h2>
            <div class="prose max-w-none">
                <h3 class="text-2xl font-bold text-emerald-600 mb-4">I.4.1. Udayan Mantri (Minister)</h3>
                
                <p>The Solanki dynasty was a golden period for Gujarat, especially during <span class="highlight">King Kumärpäl’s</span> reign. Much of this success was thanks to his chancellors (Mantri), many of whom were Jains. The most important was <span class="highlight">Udayan Mantri</span> and his sons, <span class="highlight">Ämbad</span> and <span class="highlight">Bähad</span>.</p>
                
                <p>
                    <svg class="story-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M10 20S3 10.87 3 7a7 7 0 1 1 14 0c0 3.87-7 13-7 13zm0-11a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"/></svg>
                    <span class="highlight">Udayan</span> started as a simple merchant in the village of <span class="highlight">Vägharä</span>, near <span class="highlight">Jälore, Rajasthan</span>. Life was hard, so his wife, <span class="highlight">Suhädevi</span>, suggested they move somewhere with more opportunities. They decided on Gujarat, where <span class="highlight">King Siddharäj</span> was ruling.
                </p>

                <p>
                    <span class="highlight">King Siddharäj</span> had just built a new town called <span class="highlight">Karnävati (Amdäväd)</span>. Udayan and his wife moved there, and with nowhere to go, they visited the local Jain temple. There, they met a kind lady named <span class="highlight">Lachchhi</span>. She took them in and even gave them an old house to live in.
                </p>

                <p>
                    <svg class="story-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M10 1l3.09 6.26L20 8.24l-5.02 4.88L16.18 20 10 16.77 3.82 20l1.2-6.88L0 8.24l6.91-1L10 1z"/></svg>
                    Luck was on Udayan's side! While fixing up the house, he found a <span class="highlight">hidden treasure</span>. Being an honest man, he offered it to <span class="highlight">Lachchhi</span>, but she said that since the house was his, the treasure was too. With this newfound wealth, Udayan's business grew, and he became the wealthiest man in <span class="highlight">Karnävati</span>. He was even made the city's first citizen.
                </p>

                <p>
                    Later, in <span class="highlight">1120 A.D.</span>, Udayan became the governor of <span class="highlight">Khambhät</span>, a major seaport. During his time as governor, he did two very important things:
                    <ul>
                        <li>At the suggestion of <span class="highlight">queen mother Minaldevi</span>, he abolished a pilgrim tax.</li>
                        <li>He helped a great teacher, <span class="highlight">Devchandra-suri</span>, initiate a five-year-old boy named <span class="highlight">Chängdev</span>, who would grow up to be the famous Jain Ächärya <span class="highlight">Shri Hemchandra</span>.</li>
                    </ul>
                </p>

                <p>Udayan was very loyal. When <span class="highlight">King Kumärpäl</span> was hiding from <span class="highlight">King Siddharäj</span>, Udayan, advised by <span class="highlight">Shri Hemchandra Ächärya</span>, bravely <span class="highlight">hid the future king in his basement</span>. When Kumärpäl became king, he made Udayan his trusted advisor in the capital city, <span class="highlight">Pätan</span>.</p>

                <p>
                    <svg class="story-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M18 9.87V20H2V9.87a4.25 4.25 0 0 1 2.2-3.79l6-3.23a1.75 1.75 0 0 1 1.6 0l6 3.23A4.25 4.25 0 0 1 18 9.87zM10 0a1 1 0 0 1 .7.3l6 3.25a6.25 6.25 0 0 1 3.3 5.55V20a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V9.1a6.25 6.25 0 0 1 3.3-5.55l6-3.25A1 1 0 0 1 10 0z"/></svg>
                    Udayan never forgot his faith. He built many Jain temples in <span class="highlight">Karnävati</span>, <span class="highlight">Dholka</span>, and <span class="highlight">Khambhät</span>. Later in life, while on a mission to stop a bandit named <span class="highlight">Sumvar</span>, he visited the holy <span class="highlight">Shatrunjay hill</span>. While praying in the wooden temple there, he saw a mouse with a lit wick, and realized the temple could easily burn down. Right then, he <span class="highlight">vowed to build a new, strong temple</span>.
                </p>

                <p>Udayan won his battle but was badly hurt. On his deathbed, he told his sons about his vow. They promised to fulfill it, and he died peacefully.</p>

                <hr class="story-section-divider">

                <h3 class="text-2xl font-bold text-emerald-600 mb-4">I.4.2. Ämbad and Bähad</h3>
                <p>Udayan had four sons: <span class="highlight">Ämbad</span>, <span class="highlight">Bähad</span>, Chähad, and Sollak.</p>
                <p><span class="highlight">Ämbad</span> was a brave warrior and became chancellor for <span class="highlight">King Kumärpäl</span>. He built and renovated many religious sites. When the next king, <span class="highlight">Ajaypäl</span>, tried to undo all of Kumärpäl's good work, Ämbad stood up to him and died fighting for what he believed in.</p>
                <p><span class="highlight">Bähad</span> was a great politician. He served <span class="highlight">King Kumärpäl</span> as his trusted right-hand man and renovated the famous <span class="highlight">Somnäth temple</span>.</p>
                <p>
                    <svg class="story-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M19.95 9.05a8 8 0 1 0-11.9 11.9A8 8 0 0 0 19.95 9.05zM10 18a6 6 0 1 1 0-12 6 6 0 0 1 0 12zm0-7a1 1 0 0 0-1 1v3a1 1 0 0 0 2 0v-3a1 1 0 0 0-1-1zm0-4a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"/></svg>
                    Most importantly, to honor his father's pledge, <span class="highlight">Bähad built the grand temple on Shatrunjay hill</span>. It was first finished in <span class="highlight">1155 A.D.</span>, but high winds damaged it. So, he rebuilt it to be even stronger.
                </p>
                <p>There is a wonderful story about this project. A poor ghee-seller named <span class="highlight">Bhim</span> wanted to donate, but he only had one coin. Bähad noticed his desire and encouraged him to give what he could.
                    <div class="story-quote">
                        Bähad not only accepted the single coin, but he also wrote <span class="highlight">Bhim's name at the very top of the donor list</span>. When asked why, Bähad explained, "Other donors gave a part of their wealth. Bhim gave his *entire* wealth."
                    </div>
                </p>
                <p>That day, when Bhim went home, he found a buried treasure of gold coins! Believing it was a reward for his good deed, he donated all of it to the temple project.</p>
                <p>The beautiful temple was finally completed in <span class="highlight">1157 A.D.</span> in a grand ceremony with <span class="highlight">Shri Hemchandra Ächärya</span>.</p>

                <hr class="story-section-divider">
                
                <h3 class="text-2xl font-bold text-emerald-600 mb-4">Moral of the Story</h3>
                <p>The story of <span class="highlight">Udayan</span> shows us the power of being hardworking, religious, and humble. He raised brave and good sons. The story of <span class="highlight">Bhim</span> teaches us that it’s not how much you give, but the spirit in which you give it, that truly matters.</p>
            </div>
        </div>

        <!-- Timeline Tab Content -->
        <div id="timeline-tab" class="tab-content">
            <h2 class="text-3xl font-bold text-center text-emerald-700 mb-6">Timeline of Events</h2>
            <div id="timeline" class="timeline-container">
                <!-- Timeline events will be dynamically added here by JS -->
            </div>
        </div>

        <!-- Mind Map (v1) Tab Content -->
        <div id="mind-map" class="tab-content">
            <h2 class="text-3xl font-bold text-center text-emerald-700 mb-6">Interactive Mind Map (v1): Udayan Mantri's Legacy</h2>
            <div class="mind-map-wrapper">
                <div class="mind-map-container">
                    <div class="mind-map-node main">Udayan Mantri</div>
                    <div class="mind-map-main-branches">
                        <!-- Branch 1: Early Life & Rise -->
                        <div class="mind-map-branch-group">
                            <div class="mind-map-node toggle-node" data-target="early-life-details">
                                Early Life & Rise <span class="toggle-icon">+</span>
                            </div>
                            <div id="early-life-details" class="mind-map-sub-branches hidden">
                                <div class="mind-map-node">Origin: Merchant (Vägharä)</div>
                                <div class="mind-map-node">Wife: Suhädevi</div>
                                <div class="mind-map-node">Migration to Karnävati</div>
                                <div class="mind-map-node">Benefactor: Lachchhi</div>
                                <div class="mind-map-node">Discovery of Treasure</div>
                                <div class="mind-map-node">Wealthiest Man</div>
                            </div>
                        </div>

                        <!-- Branch 2: Political Career -->
                        <div class="mind-map-branch-group">
                            <div class="mind-map-node toggle-node" data-target="political-career-details">
                                Political Career <span class="toggle-icon">+</span>
                            </div>
                            <div id="political-career-details" class="mind-map-sub-branches hidden">
                                <div class="mind-map-node">First Citizen of Karnävati</div>
                                <div class="mind-map-branch-group">
                                    <div class="mind-map-node toggle-node" data-target="governor-details">
                                        Governor of Khambhät (1120 A.D.) <span class="toggle-icon">+</span>
                                    </div>
                                    <div id="governor-details" class="mind-map-sub-branches hidden">
                                        <div class="mind-map-node">Abolished Pilgrim Tax (Minaldevi's suggestion)</div>
                                        <div class="mind-map-node">Helped initiate Chängdev (Shri Hemchandra)</div>
                                    </div>
                                </div>
                                <div class="mind-map-node">Sheltered King Kumärpäl</div>
                                <div class="mind-map-node">Trusted Advisor to King Kumärpäl</div>
                            </div>
                        </div>

                        <!-- Branch 3: Religious Contributions -->
                        <div class="mind-map-branch-group">
                            <div class="mind-map-node toggle-node" data-target="religious-contributions-details">
                                Religious Contributions <span class="toggle-icon">+</span>
                            </div>
                            <div id="religious-contributions-details" class="mind-map-sub-branches hidden">
                                <div class="mind-map-node">Promoted Jainism</div>
                                <div class="mind-map-branch-group">
                                    <div class="mind-map-node toggle-node" data-target="temples-built-details">
                                        Constructed Temples <span class="toggle-icon">+</span>
                                    </div>
                                    <div id="temples-built-details" class="mind-map-sub-branches hidden">
                                        <div class="mind-map-node">Udayanvihär (Karnävati)</div>
                                        <div class="mind-map-node">Udävasahi (Dholka)</div>
                                        <div class="mind-map-node">Unnamed Temple (Khambhät)</div>
                                    </div>
                                </div>
                                <div class="mind-map-node">Pilgrimage to Shatrunjay Hill</div>
                                <div class="mind-map-node">Vowed to Reconstruct Shatrunjay Temple</div>
                                <div class="mind-map-node">Passed Vow to Sons</div>
                            </div>
                        </div>

                        <!-- Branch 4: Sons -->
                        <div class="mind-map-branch-group">
                            <div class="mind-map-node toggle-node" data-target="sons-details">
                                Sons <span class="toggle-icon">+</span>
                            </div>
                            <div id="sons-details" class="mind-map-sub-branches hidden">
                                <div class="mind-map-node">Chähad</div>
                                <div class="mind-map-node">Sollak</div>
                                <div class="mind-map-branch-group">
                                    <div class="mind-map-node toggle-node" data-target="ambad-details">
                                        Ämbad <span class="toggle-icon">+</span>
                                    </div>
                                    <div id="ambad-details" class="mind-map-sub-branches hidden">
                                        <div class="mind-map-node">Poet & Warrior</div>
                                        <div class="mind-map-node">Chancellor to King Kumärpäl</div>
                                        <div class="mind-map-node">Constructions/Renovations</div>
                                        <div class="mind-map-node">Died fighting King Ajaypäl</div>
                                    </div>
                                </div>
                                <div class="mind-map-branch-group">
                                    <div class="mind-map-node toggle-node" data-target="bahad-details">
                                        Bähad (Vähad) <span class="toggle-icon">+</span>
                                    </div>
                                    <div id="bahad-details" class="mind-map-sub-branches hidden">
                                        <div class="mind-map-node">Politician & Statesman</div>
                                        <div class="mind-map-node">Renovated Somnäth Temple</div>
                                        <div class="mind-map-node">Fulfilled Father's Vow: Shatrunjay Temple</div>
                                        <div class="mind-map-node">Noteworthy: Bhim's Donation Story</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Mind Map (v2) Tab Content -->
        <div id="mind-map-v2" class="tab-content">
            <h2 class="text-3xl font-bold text-center text-emerald-700 mb-6">Interactive Mind Map (v2): Udayan Mantri's Legacy</h2>
            <div class="mind-map-wrapper-v2">
                <div class="mind-map-container-v2">
                    <div class="mind-map-node-v2 main">Udayan Mantri Story</div>
                    <div class="main-branches-container">
                        <!-- Branch: Udayan's Journey -->
                        <div class="branch-group">
                            <div class="node-wrapper toggle-node-v2" data-target="udayan-journey-details">
                                <div class="mind-map-node-v2">Udayan's Journey</div>
                                <span class="toggle-icon-v2">+</span>
                            </div>
                            <div id="udayan-journey-details" class="sub-branches hidden">
                                <div class="mind-map-node-v2">Early Life in Vägharä</div>
                                <div class="mind-map-node-v2">Migration to Karnävati</div>
                                <div class="mind-map-node-v2">Meeting Lachchhi & Treasure Discovery</div>
                                <div class="mind-map-node-v2">Rise to Wealth</div>
                            </div>
                        </div>

                        <!-- Branch: Udayan's Political Career -->
                        <div class="branch-group">
                            <div class="node-wrapper toggle-node-v2" data-target="political-career-details-v2">
                                <div class="mind-map-node-v2">Udayan's Political Career</div>
                                <span class="toggle-icon-v2">+</span>
                            </div>
                            <div id="political-career-details-v2" class="sub-branches hidden">
                                <div class="mind-map-node-v2">First Citizen of Karnävati</div>
                                <div class="node-wrapper toggle-node-v2" data-target="governor-details-v2">
                                    <div class="mind-map-node-v2">Governor of Khambhät (1120 A.D.)</div>
                                    <span class="toggle-icon-v2">+</span>
                                </div>
                                <div id="governor-details-v2" class="sub-branches hidden">
                                    <div class="mind-map-node-v2">Abolished Pilgrim Tax</div>
                                    <div class="mind-map-node-v2">Helped initiate Chängdev (Hemchandra)</div>
                                </div>
                                <div class="mind-map-node-v2">Sheltering King Kumärpäl</div>
                                <div class="mind-map-node-v2">Trusted Advisor</div>
                            </div>
                        </div>

                        <!-- Branch: Udayan's Religious & Latter Life -->
                        <div class="branch-group">
                            <div class="node-wrapper toggle-node-v2" data-target="religious-latter-life-details">
                                <div class="mind-map-node-v2">Udayan's Religious & Latter Life</div>
                                <span class="toggle-icon-v2">+</span>
                            </div>
                            <div id="religious-latter-life-details" class="sub-branches hidden">
                                <div class="mind-map-node-v2">Promoted Jainism & Temples</div>
                                <div class="node-wrapper toggle-node-v2" data-target="temples-built-details-v2">
                                    <div class="mind-map-node-v2">Constructed Temples</div>
                                    <span class="toggle-icon-v2">+</span>
                                </div>
                                <div id="temples-built-details-v2" class="sub-branches hidden">
                                    <div class="mind-map-node-v2">Udayanvihär (Karnävati)</div>
                                    <div class="mind-map-node-v2">Udävasahi (Dholka)</div>
                                    <div class="mind-map-node-v2">Unnamed Temple (Khambhät)</div>
                                </div>
                                <div class="mind-map-node-v2">Pilgrimage to Shatrunjay Hill</div>
                                <div class="mind-map-node-v2">Vowed to Reconstruct Shatrunjay Temple</div>
                                <div class="mind-map-node-v2">Passed Vow to Sons</div>
                            </div>
                        </div>

                        <!-- Branch: Sons' Legacy -->
                        <div class="branch-group">
                            <div class="node-wrapper toggle-node-v2" data-target="sons-legacy-details">
                                <div class="mind-map-node-v2">Sons' Legacy</div>
                                <span class="toggle-icon-v2">+</span>
                            </div>
                            <div id="sons-legacy-details" class="sub-branches hidden">
                                <div class="mind-map-node-v2">Chähad</div>
                                <div class="mind-map-node-v2">Sollak</div>
                                <div class="node-wrapper toggle-node-v2" data-target="ambad-details-v2">
                                    <div class="mind-map-node-v2">Ämbad</div>
                                    <span class="toggle-icon-v2">+</span>
                                </div>
                                <div id="ambad-details-v2" class="sub-branches hidden">
                                    <div class="mind-map-node-v2">Poet & Warrior</div>
                                    <div class="mind-map-node-v2">Chancellor to King Kumärpäl</div>
                                    <div class="mind-map-node-v2">Constructions/Renovations</div>
                                    <div class="mind-map-node-v2">Died fighting King Ajaypäl</div>
                                </div>
                                <div class="node-wrapper toggle-node-v2" data-target="bahad-details-v2">
                                    <div class="mind-map-node-v2">Bähad</div>
                                    <span class="toggle-icon-v2">+</span>
                                </div>
                                <div id="bahad-details-v2" class="sub-branches hidden">
                                    <div class="mind-map-node-v2">Politician & Statesman</div>
                                    <div class="mind-map-node-v2">Renovated Somnäth Temple</div>
                                    <div class="mind-map-node-v2">Fulfilled Father's Vow: Shatrunjay Temple</div>
                                    <div class="mind-map-node-v2">Noteworthy: Bhim's Donation Story</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Quiz Tab Content -->
        <div id="quiz-tab" class="tab-content">
            <h2 class="text-3xl font-bold text-center text-emerald-700 mb-6">Quiz on Udayan Mantri's Story</h2>
            <div class="quiz-container">
                <div class="quiz-question">
                    <p>1. From which village did Udayan originally come?</p>
                    <button class="show-answer-btn" onclick="toggleAnswer(this)">Show Answer</button>
                    <div class="quiz-answer">Vägharä</div>
                </div>
                <div class="quiz-question">
                    <p>2. What was the name of Udayan's wife?</p>
                    <button class="show-answer-btn" onclick="toggleAnswer(this)">Show Answer</button>
                    <div class="quiz-answer">Suhädevi</div>
                </div>
                <div class="quiz-question">
                    <p>3. What was the name of the new town King Siddharäj had built, which Udayan migrated to?</p>
                    <button class="show-answer-btn" onclick="toggleAnswer(this)">Show Answer</button>
                    <div class="quiz-answer">Karnävati (Amdäväd)</div>
                </div>
                <div class="quiz-question">
                    <p>4. What was the name of the religious lady who provided Udayan and his wife shelter?</p>
                    <button class="show-answer-btn" onclick="toggleAnswer(this)">Show Answer</button>
                    <div class="quiz-answer">Lachchhi</div>
                </div>
                <div class="quiz-question">
                    <p>5. In what year was Udayan appointed governor of Khambhät?</p>
                    <button class="show-answer-btn" onclick="toggleAnswer(this)">Show Answer</button>
                    <div class="quiz-answer">1120 A.D.</div>
                </div>
                <div class="quiz-question">
                    <p>6. What was the name of the queen mother who suggested abolishing the pilgrim tax of Bholad?</p>
                    <button class="show-answer-btn" onclick="toggleAnswer(this)">Show Answer</button>
                    <div class="quiz-answer">Minaldevi</div>
                </div>
                <div class="quiz-question">
                    <p>7. What was the name of the great Jain Ächärya whom Udayan helped initiate (originally named Chängdev)?</p>
                    <button class="show-answer-btn" onclick="toggleAnswer(this)">Show Answer</button>
                    <div class="quiz-answer">Shri Hemchandra</div>
                </div>
                <div class="quiz-question">
                    <p>8. On which hill did Udayan vow to construct a new temple after observing a mouse incident?</p>
                    <button class="show-answer-btn" onclick="toggleAnswer(this)">Show Answer</button>
                    <div class="quiz-answer">Shatrunjay hill</div>
                </div>
                <div class="quiz-question">
                    <p>9. Which of Udayan's sons was entrusted with the renovation of the Somnäth temple?</p>
                    <button class="show-answer-btn" onclick="toggleAnswer(this)">Show Answer</button>
                    <div class="quiz-answer">Bähad (or Vähad)</div>
                </div>
                <div class="quiz-question">
                    <p>10. What was the name of the poor man who donated his entire wealth to the temple project and was placed at the top of the donor list?</p>
                    <button class="show-answer-btn" onclick="toggleAnswer(this)">Show Answer</button>
                    <div class="quiz-answer">Bhim</div>
                </div>
            </div>
        </div>


        <!-- Characters Tab Content -->
        <div id="characters-tab" class="tab-content">
            <h2 class="text-3xl font-bold text-center text-emerald-700 mb-6">Cast of Characters</h2>
            <div id="characters" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Characters will be dynamically added here by JS -->
            </div>
        </div >
    </main>

    <footer class="bg-emerald-700 text-white text-center p-4 mt-12 rounded-t-xl">
        <p>&copy; 2025 Historical Timeline. All rights reserved.</p>
    </footer>

    <script>
        // --- Tab Functionality ---
        function openTab(evt, tabName) {
            // Declare all variables
            var i, tabcontent, tablinks;

            // Get all elements with class="tab-content" and hide them
            tabcontent = document.getElementsByClassName("tab-content");
            for (i = 0; i < tabcontent.length; i++) {
                tabcontent[i].style.display = "none";
            }

            // Get all elements with class="tab-button" and remove the class "active"
            tablinks = document.getElementsByClassName("tab-button");
            for (i = 0; i < tablinks.length; i++) {
                tablinks[i].className = tablinks[i].className.replace(" active", "");
            }

            // Show the current tab, and add an "active" class to the button that opened the tab
            document.getElementById(tabName).style.display = "block";
            evt.currentTarget.className += " active";
        }


        // Define the timeline data for Udayan Mantri and his sons
        const timelineData = [
            {
                era: "Udayan's Early Life and Rise",
                period: "Prior to 1120 A.D.",
                events: [
                    { title: "Merchant in Vägharä", description: "Udayan was a simple merchant in Vägharä, near Jälore, Rajasthan, struggling financially.", characters: ["Udayan Mantri", "Suhädevi"] },
                    { title: "Move to Karnävati", description: "At his wife Suhädevi's suggestion, Udayan decided to migrate to Karnävati (Amdäväd), a fast-growing city in Gujarat under King Siddharäj, for better economic prospects.", characters: ["Udayan Mantri", "Suhädevi", "King Siddharäj"] },
                    { title: "Meets Lachchhi", description: "Upon arriving in Karnävati, Udayan and Suhädevi went to the local Jain temple where they met Lachchhi, a compassionate religious lady.", characters: ["Udayan Mantri", "Suhädevi", "Lachchhi"] },
                    { title: "Hosted by Lachchhi", description: "Lachchhi hosted the couple for a few days and then gave them an old house for shelter.", characters: ["Lachchhi", "Udayan Mantri", "Suhädevi"] },
                    { title: "Discovery of Treasure", description: "While renovating the old house after starting a small business, Udayan discovered a hidden treasure. He honestly offered it to Lachchhi, but she declined.", characters: ["Udayan Mantri", "Lachchhi"] },
                    { title: "Becomes Wealthiest Man", description: "With the found treasure, Udayan started a large-scale business and became the wealthiest man in Karnävati.", characters: ["Udayan Mantri"] },
                    { title: "Appointed First Citizen", description: "Udayan was recognized by the state and appointed as the first citizen of Karnävati, rendering valuable service to the townspeople.", characters: ["Udayan Mantri"] }
                ]
            },
            {
                era: "Udayan's Governorship of Khambhät",
                period: "Starting 1120 A.D.",
                events: [
                    { title: "Appointed Governor", description: "Udayan was appointed governor of Khambhät, a lucrative seaport, in 1120 A.D., holding the position for a long period.", characters: ["Udayan Mantri"] },
                    { title: "Pilgrim Tax Abolished", description: "At the suggestion of Queen Mother Minaldevi, Udayan abolished the pilgrim tax of Bholad.", characters: ["Udayan Mantri", "Queen Mother Minaldevi"] },
                    { title: "Chängdev Initiated", description: "Udayan helped Devchandra-suri initiate Chängdev (who later became the great Jain Ächärya Shri Hemchandra) at a young age.", characters: ["Udayan Mantri", "Devchandra-suri", "Shri Hemchandra Ächärya"] },
                    { title: "Shelters King Kumärpäl", description: "Advised by Hemchandra Ächärya, Udayan hid King Kumärpäl in his basement while Kumärpäl was hiding from King Siddharäj.", characters: ["Udayan Mantri", "Shri Hemchandra Ächärya", "King Kumärpäl", "King Siddharäj"] },
                    { title: "Becomes Trusted Advisor", description: "After King Siddharäj died and Kumärpäl became king, Udayan was kept as governor of Khambhät and later brought to Pätan as King Kumärpäl's trusted advisor.", characters: ["Udayan Mantri", "King Kumärpäl"] },
                    { title: "Promotes Jainism & Builds Temples", description: "Udayan used his wealth and position to promote Jainism, constructing several temples including Udayanvihär in Karnävati, Udävasahi in Dholka, and one in Khambhät.", characters: ["Udayan Mantri"] }
                ]
            },
            {
                era: "Udayan's Latter Life & Vow",
                period: "Late in Udayan's life",
                events: [
                    { title: "Subdues Bandit Sumvar", description: "King Kumärpäl sent Udayan to subdue Sumvar, a notorious bandit in the Saurashtra region.", characters: ["Udayan Mantri", "King Kumärpäl", "Sumvar"] },
                    { title: "Pilgrimage to Shatrunjay", description: "During his mission, Udayan went on a pilgrimage to Shatrunjay hill in Pälitänä.", characters: ["Udayan Mantri"] },
                    { title: "Statue Erected", description: "To commemorate his pilgrimage, Udayan's statue was erected on a camel's back in a small temple on the way to the main complex on the hill.", characters: ["Udayan Mantri"] },
                    { title: "Vows New Temple", description: "While worshipping in a wooden temple on Shatrunjay, Udayan observed a mouse almost setting it on fire, prompting him to vow to construct a new, safer temple there.", characters: ["Udayan Mantri"] },
                    { title: "Deathbed Vow", description: "After succeeding against Sumvar but being badly wounded, Udayan, on his deathbed, told his sons Ämbad and Bähad about his vow to reconstruct the Shatrunjay temple. They promised to fulfill it, and he died peacefully.", characters: ["Udayan Mantri", "Ämbad", "Bähad"] }
                ]
            },
            {
                era: "Ämbad and Bähad's Contributions",
                period: "Following Udayan's death, 1155 A.D. - 1157 A.D.",
                events: [
                    { title: "Four Sons of Udayan", description: "Udayan had four sons: Ämbad, Bähad, Chähad, and Sollak.", characters: ["Udayan Mantri", "Ämbad", "Bähad", "Chähad", "Sollak"] },
                    { title: "Ämbad Becomes Chancellor", description: "Ämbad, a poet and warrior, became the chancellor of King Kumärpäl.", characters: ["Ämbad", "King Kumärpäl"] },
                    { title: "Ämbad's Constructions", description: "Ämbad constructed the western walkway (Gheti Ni Päg) on Shatrunjay hill, expanded Udävasahi of Dholka, and renovated Shakunikävihär at Bharuch.", characters: ["Ämbad"] },
                    { title: "Ämbad Resists King Ajaypäl & Dies", description: "Ämbad pledged allegiance to Kumärpäl but resisted his successor, King Ajaypäl, dying in combat against Ajaypäl’s troops.", characters: ["Ämbad", "King Kumärpäl", "King Ajaypäl"] },
                    { title: "Bähad's Career", description: "Bähad (also known as Vähad), a politician and statesman, worked for King Siddharäj and became King Kumärpäl's trusted right-hand man.", characters: ["Bähad", "King Siddharäj", "King Kumärpäl"] },
                    { title: "Somnäth Temple Renovation", description: "King Kumärpäl entrusted Bähad with the renovation of the Somnäth temple, which he carried out successfully.", characters: ["Bähad", "King Kumärpäl"] },
                    { title: "Shatrunjay Temple Construction (Initial)", description: "To honor his father's vow, Bähad undertook the construction of a grand temple on Shatrunjay. It was completed in 1155 A.D., but parts fell due to strong winds.", characters: ["Bähad"] },
                    { title: "Bhim's Donation", description: "Bähad noticed a poor man named Bhim who wished to donate his only coin. Bähad accepted it and put Bhim's name at the top of the donors' list, recognizing his full contribution.", characters: ["Bähad", "Bhim"] },
                    { title: "Bhim Finds Treasure", description: "After his donation, Bhim discovered a buried box of gold coins and valuables at home, which he also brought to Bähad as a contribution.", characters: ["Bhim", "Bähad"] },
                    { title: "Shatrunjay Temple Reconstruction & Completion", description: "Bähad arranged to reconstruct the fallen parts of the Shatrunjay temple to withstand high winds. The project was completed in 1157 A.D. at a cost of 29.7 million coins, with a grand opening ceremony led by Shri Hemchandra Ächärya.", characters: ["Bähad", "Shri Hemchandra Ächärya"] }
                ]
            }
        ];

        // Define the cast of characters for this story
        const charactersData = [
            { name: "Udayan Mantri", description: "A simple merchant from Vägharä who rose to become the wealthiest man in Karnävati, then governor of Khambhät (1120 A.D.), and finally King Kumärpäl's trusted advisor. He was a devout Jain who promoted Jainism and vowed to rebuild the Shatrunjay temple." },
            { name: "Suhädevi", description: "Udayan Mantri's wife, who suggested they move to Gujarat for better economic opportunities." },
            { name: "King Siddharäj", description: "The ruler of Gujarat who built Karnävati (Amdäväd). Udayan worked for him and later hid King Kumärpäl from him." },
            { name: "Lachchhi", description: "A compassionate religious lady in Karnävati who hosted Udayan and Suhädevi and provided them with an old house, declining the treasure Udayan found there." },
            { name: "King Kumärpäl", description: "The king of Gujarat during whose reign prosperity peaked. He was sheltered by Udayan, who later became his trusted advisor. Udayan's sons Ämbad and Bähad also served him." },
            { name: "Queen Mother Minaldevi", description: "The queen mother who suggested Udayan abolish the pilgrim tax of Bholad." },
            { name: "Devchandra-suri", description: "A Jain guru who initiated Chängdev (later Hemchandra Ächärya) with Udayan's help." },
            { name: "Shri Hemchandra Ächärya (Chängdev)", description: "A great Jain Ächärya who was initiated with Udayan's help. He advised Udayan to shelter King Kumärpäl and later officiated the opening ceremony of Bähad's temple." },
            { name: "Sumvar", description: "A notorious bandit in the Saurashtra region whom Udayan Mantri was sent to subdue." },
            { name: "Ämbad", description: "Udayan's son, a poet and bold warrior who became King Kumärpäl's chancellor. He constructed and renovated several structures but died fighting King Ajaypäl." },
            { name: "Bähad (Vähad)", description: "Udayan's second son, a politician and statesman. He first worked for King Siddharäj, and under King Kumärpäl’s regime became the king’s trusted right-hand man. He completed the renovation of Somnäth temple and fulfilled his father's vow by constructing a grand temple on Shatrunjay hill." },
            { name: "Chähad", description: "One of Udayan's four sons." },
            { name: "Sollak", description: "One of Udayan's four sons." },
            { name: "King Ajaypäl", description: "King Kumärpäl's successor, whom Ämbad resisted and died fighting against." },
            { name: "Bhim", description: "A poor ghee seller who donated his single coin to Bähad's temple project and was placed at the top of the donor list for his full contribution. He later found treasure." }
        ];

        document.addEventListener('DOMContentLoaded', () => {
            // Function to generate and append timeline elements
            const generateTimeline = () => {
                const timelineDiv = document.getElementById('timeline');
                timelineDiv.innerHTML = ''; // Clear previous content
                let isLeft = true; // To alternate event positions

                timelineData.forEach(era => {
                    const eraHeading = document.createElement('div');
                    eraHeading.classList.add('timeline-era');
                    eraHeading.innerHTML = `
                        <h2 class="text-xl md:text-2xl lg:text-3xl">${era.era} <br> <span class="text-sm font-normal">${era.period}</span></h2>
                    `;
                    timelineDiv.appendChild(eraHeading);

                    era.events.forEach(event => {
                        const eventDiv = document.createElement('div');
                        eventDiv.classList.add('timeline-event', isLeft ? 'left' : 'right');
                        isLeft = !isLeft;

                        const charactersHtml = event.characters && event.characters.length > 0
                            ? `<p class="text-sm text-gray-600 mt-2"><strong>Characters:</strong> ${event.characters.join(', ')}</p>`
                            : '';

                        eventDiv.innerHTML = `
                            <div class="timeline-content">
                                <h3 class="text-xl font-semibold text-emerald-700 mb-2">${event.title}</h3>
                                <p class="text-gray-700">${event.description}</p>
                                ${charactersHtml}
                            </div>
                        `;
                        timelineDiv.appendChild(eventDiv);
                    });
                });
            };

            // Function to generate and append character cards
            const generateCharacters = () => {
                const charactersDiv = document.getElementById('characters');
                charactersDiv.innerHTML = ''; // Clear previous content
                charactersData.forEach(character => {
                    const characterCard = document.createElement('div');
                    characterCard.classList.add('bg-gray-50', 'p-6', 'rounded-lg', 'shadow-md', 'hover:shadow-lg', 'transition-shadow', 'duration-300');
                    characterCard.innerHTML = `
                        <h3 class="text-xl font-bold text-emerald-800 mb-2">${character.name}</h3>
                        <p class="text-gray-700 text-sm">${character.description}</p>
                    `;
                    charactersDiv.appendChild(characterCard);
                });
            };

            // --- Mind Map (v1) Toggle Functionality ---
            const setupMindMapTogglesV1 = () => {
                const toggleNodes = document.querySelectorAll('#mind-map .toggle-node');
                toggleNodes.forEach(node => {
                    node.addEventListener('click', () => {
                        const targetId = node.dataset.target;
                        const targetElement = document.getElementById(targetId);
                        const toggleIcon = node.querySelector('.toggle-icon');

                        if (targetElement) {
                            targetElement.classList.toggle('hidden');
                            if (targetElement.classList.contains('hidden')) {
                                toggleIcon.textContent = '+';
                            } else {
                                toggleIcon.textContent = '-';
                            }
                        }
                    });
                });
            };

            // --- Mind Map (v2) Toggle Functionality ---
            const setupMindMapTogglesV2 = () => {
                const toggleNodes = document.querySelectorAll('#mind-map-v2 .toggle-node-v2');
                toggleNodes.forEach(node => {
                    node.addEventListener('click', () => {
                        const targetId = node.dataset.target;
                        const targetElement = document.getElementById(targetId);
                        const toggleIcon = node.querySelector('.toggle-icon-v2');

                        if (targetElement) {
                            targetElement.classList.toggle('hidden');
                            if (targetElement.classList.contains('hidden')) {
                                toggleIcon.textContent = '+';
                            } else {
                                toggleIcon.textContent = '-';
                            }
                        }
                    });
                });
            };

            // --- Quiz Answer Toggle Functionality ---
            window.toggleAnswer = function(button) {
                const answerDiv = button.nextElementSibling; // Get the div right after the button
                if (answerDiv && answerDiv.classList.contains('quiz-answer')) {
                    answerDiv.style.display = answerDiv.style.display === 'block' ? 'none' : 'block';
                    button.textContent = (answerDiv.style.display === 'block') ? 'Hide Answer' : 'Show Answer';
                }
            };


            // Initial content generation for the active tab (Original Story)
            generateTimeline(); // Generate timeline on load, but it's hidden by default
            generateCharacters(); // Generate characters on load, but it's hidden by default

            // Set the initial active tab to 'Original Story'
            document.getElementById('original-story').style.display = 'block';
            document.querySelector('.tabs-container .tab-button').classList.add('active'); // Activate the first button

            // Set up mind map toggles after the mind map content is in the DOM
            setupMindMapTogglesV1();
            setupMindMapTogglesV2(); // Setup for the new Mind Map (v2)
        });
    </script>
</body>
</html>
